## 函数

函数是可以重复执行的语句块，可以重复使用

**作用：**

+ 用于封装语句块，提高代码的重用性 \
+ 定义用户级别的函数

**函数定义语句 def 语句的语法：**
```python
def 函数名（形参列表）：
    语句块
```
**说明**

+ 函数的名字就是语句块的名称
+ 函数名的命名规则与变量名相同（函数名必须为标识符）
+ 函数有自己的名字空间，在函数外部不可以访问函数内部的变量，在函数内部可以访问函数外部的变量，通常让函数处理外部数据需要用参数给函数传入一些数据
+ 函数的参数列表可以为空
+ 语句部分不能为空。如果为空需要填充pass语句

```python
#def 定义函数
def say_hello():
    print("helllo world!")
    print("hello tarena!")
    print("hello everyone!!!")

#调用函数
say_hello()
```

**函数的调用**

函数名（实际调用传递参数列表）

注：实际调用传递参数以后称为实参

**说明**

+ 函数调用是一个表达式
+ 如果没有return语句，此函数执行完毕后返回None对象
+ 如果函数需要返回其他的对象需要用到return语句

##return 语句

**语法**

+ return [表达式] \n []代表可以省略

**作用**

+ 用于函数中，结束当前函数的执行，返回到调用该函数的地方，同时返回一个对象的引用关系
    
**说明**

+ return语句后跟的表达式可以省略，省略后相当于return None
+ 如果函数没有return语句，则函数执行完最后一条语句后返回None（相当于在最后加了一条return None语句）
+ 函数调用一定会返回一个对象的引用
    
    
##函数的参数传递

**传递方式**

    + 位置传递 \
        序列传参
    + 关键字传递 \
        字典关键字传参

**位置传参**

实际参数（实参）的对应关系与形式（形参）的对应关系是按照位置来依次对应的

示意：
    
```python
def myfun(a, b, c)
    pass
    
myfun(1, 2, 3)
```
说明： 
    
实际参数和形式参数通过位置进行传递的匹配，实参个数必须与形参个数相同


**序列传参**

序列传参是指在函数调用过程中，用“*”将序列拆解后按照位置传参的方式进行参数传递

示例

```python
def myfun(a, b, c):
    pass

s = [1, 2, 3]
myfun(*s)
s2 = "ABC"
myfun(*s2)
```

**关键字传参**

关键字传参是指传参时，按形参的名称给形参赋值，实参和形参按名称进行匹配

**示例**

```python
def myfun(a, b, c):
    pass

myfun(b = 22, c = 33, a = 11) 
```

**说明**

实参和形参可以不按位置匹配

**字典关键字传参**

是指实参为字典，将字典用"**"拆解后进行关键字传参

**示例**

```python
def myfun(a, b, c):
    pass
  
d = {'c' :33, 'b':22, 'a':11}
myfun(**d)
```

**说明**

+ 字典的键名和形参名必须一致
+ 字典键名必须为字符串
+ 字典键名要在形参中存在

**函数的综合传参**

函数传参方式，在能确定形参能唯一匹配到相应实参的情况下可以任意组合

**示例**
```python
def myfun(a, b, c):
    pass
    
myfun(100, *[200, 300])  #正确
myfun(*'AB', 300)        #正确
myfun(100, c = 300, b=200) #正确
myfun(1, **{'c':3, 'b':2}) #正确
myfun(**{'c':3, 'b':2}, a = 1) #正确

myfun(b = 2, c=3, 1)          #错误,不能确定1给谁
```



##函数形参

**函数的缺省形参**

**语法**

```python
def  myfun(形参名1=默认实参1,
           形参名2=默认实参2,
           ...)
```

**示例：**
```python
def info(name, age=1, address='未填写'):
    print(name, "今年",
          age, "岁,家庭地址是：", address)
          
info('tarena', 15)
info('小魏',20, '北京朝阳区')
info('小李')
```

**说明**

1.缺省参数必须自右至左依次存在，如果一个参数有缺省数，则其右侧的所有参数都必须有缺省参数

如：
```python
def test(a, b = 10, c):  #错误示例
    pass
```

2.缺省参数可以有0个或多个，甚至全部都有缺省参数。


##形参定义方式

- 位置形参
- 星号元组形参
- 命名关键字形参
- 双星号字典形参

**位置形参**

语法：
```python
def myfun(形参名1, 形参名2, ...);
    语句块
```

**星号元组形参：**

语法：
```python
def myfun(*元组形参名)：
    语句块
```

作用：

收集多余位置形参传参

说明：

元组形参名常用：“args”

**命名关键字形参：**

语法：

```python
def myfun(*, 命名关键字形参):
    语句
    
def myfun(*args, 命名关键字形参)：
    语句
```

作用：

要求传参时，所有的参数都必须用关键字传参或字典关键字传参

示例：

```python
def fn(*, d, e):
    print("d=", d)
    print("e=", e)

fn(d = 100, e = 200)  #合法
#fn(1, 2)             #不合法，不能用位置传参

def fn(a,b,*, d, e):
    pass
fn(1,2, d=100,e=200) 

def f1(a,b,*args, c, d):
    pass
f1(1,2,c=3,d=4)
```

**双星号字典形参：**

语法：

```python
def 函数名(**字典形参名):
    语句
```

作用：

收集多余的关键字形参

说明：

通常双星号字典形参（**kwargs)

```python

#此示例示意双星号字典形参kwargs收集多余的关键字传参
def func(**kwargs):
    print("关键字参数个数是：", len(kwargs))
    print("kwargs = ", kwargs)

func(name= 'tarena', age = 15)
```

**参数说明**

缺省参数、位置形参、星号元组形参、命名关键字形参和双星号字典形参可以混合使用

函数参数自左向右的顺序为：

+ 位置形参
+ 星号元组形参
+ 命名关键字形参
+ 双星号字典形参

```python
def f1(a, b, *args, c, **kwargs):
    print(args)
    print("kwargs是：",kwargs)
#f1(1, 2, 3, 4, d=6, c=5, e= 7)
f1(*"hello",d = 6, **{'c':5, 'e':7})
```

##函数的不定长参数
```python
def fn(*args, **kwargs):
    pass
    
    #可以接收任意的位置传参和关键字传参
def fn(*args, **kwargs):
    print(args)
    print(kwargs)
fn(1,2,3,a=4,b=5)
```

##全局变量和局部变量

**局部变量**

+ 定义在函数内部的变量成为局部变量（函数的形参也是局部变量）
+ 局部变量只能在函数内部使用
+ 局部变量在函数调用时才能被创建，在函数调用之后会自动销毁

**全局变量**
+ 定义在函数外部，模块内部的变量成为全局变量
+ 全局变量，所有的函数都可以直接访问（函数内部不能直接将其赋值）

**示例**
```python
a = 10
b = 20

def fy(c):
   d = 40
   a = 20        #创建局部变量a，不会修改全局变量a
   print(a, b, c, d)

print("--------------------")
fy(30)

print("a=", a)
````

**局部变量说明**
+ 在函数内首先对变量赋值是创建局部变量，再次为变量赋值是修改局部变量的绑定关系
+ 在函数内部的赋值语句不会对全局变量造成影响
+ 局部变量只能在其被声明的函数内部访问，而全局变量可以在整个模块范围内访问


